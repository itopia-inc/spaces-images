name: ~Called~ Build & publish changed images

on:
  workflow_call:
    inputs:
      environment:
        description: 'The target Spaces environment, either "dev" or "prod"'
        required: true
        type: string

jobs:

  detect_image_source_changes:
    runs-on: ubuntu-latest
    outputs:

      Eclipse_changed: ${{ steps.changes_to_Eclipse.outputs.any_changed == 'true' || steps.changes_to_Eclipse.outputs.any_deleted == 'true' }}

      all_runtimes_and_all_IDEs_image_changed: ${{ steps.changes_to_all_runtimes_and_all_IDEs_image.outputs.any_changed == 'true' || steps.changes_to_all_runtimes_and_all_IDEs_image.outputs.any_deleted == 'true' }}

      Go_1-16_changed: ${{ steps.changes_to_Go_1-16.outputs.any_changed == 'true' || steps.changes_to_Go_1-16.outputs.any_deleted == 'true' }}
      Go_1-17_changed: ${{ steps.changes_to_Go_1-17.outputs.any_changed == 'true' || steps.changes_to_Go_1-17.outputs.any_deleted == 'true' }}

      Go_1-16_and_GoLand_changed: ${{ steps.changes_to_Go_1-16_and_GoLand.outputs.any_changed == 'true' || steps.changes_to_Go_1-16_and_GoLand.outputs.any_deleted == 'true' }}
      Go_1-17_and_GoLand_changed: ${{ steps.changes_to_Go_1-17_and_GoLand.outputs.any_changed == 'true' || steps.changes_to_Go_1-17_and_GoLand.outputs.any_deleted == 'true' }}

      Go_1-16_and_VSCode_changed: ${{ steps.changes_to_Go_1-16_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_Go_1-16_and_VSCode.outputs.any_deleted == 'true' }}
      Go_1-17_and_VSCode_changed: ${{ steps.changes_to_Go_1-17_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_Go_1-17_and_VSCode.outputs.any_deleted == 'true' }}

      GoLand_changed: ${{ steps.changes_to_GoLand.outputs.any_changed == 'true' || steps.changes_to_GoLand.outputs.any_deleted == 'true' }}

      NodeJS_12_changed: ${{ steps.changes_to_NodeJS_12.outputs.any_changed == 'true' || steps.changes_to_NodeJS_12.outputs.any_deleted == 'true' }}
      NodeJS_14_changed: ${{ steps.changes_to_NodeJS_14.outputs.any_changed == 'true' || steps.changes_to_NodeJS_14.outputs.any_deleted == 'true' }}
      NodeJS_16_changed: ${{ steps.changes_to_NodeJS_16.outputs.any_changed == 'true' || steps.changes_to_NodeJS_16.outputs.any_deleted == 'true' }}

      NodeJS_12_and_VSCode_changed: ${{ steps.changes_to_NodeJS_12_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_NodeJS_12_and_VSCode.outputs.any_deleted == 'true' }}
      NodeJS_14_and_VSCode_changed: ${{ steps.changes_to_NodeJS_14_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_NodeJS_14_and_VSCode.outputs.any_deleted == 'true' }}
      NodeJS_16_and_VSCode_changed: ${{ steps.changes_to_NodeJS_16_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_NodeJS_16_and_VSCode.outputs.any_deleted == 'true' }}

      NodeJS_12_and_WebStorm_changed: ${{ steps.changes_to_NodeJS_12_and_WebStorm.outputs.any_changed == 'true' || steps.changes_to_NodeJS_12_and_WebStorm.outputs.any_deleted == 'true' }}
      NodeJS_14_and_WebStorm_changed: ${{ steps.changes_to_NodeJS_14_and_WebStorm.outputs.any_changed == 'true' || steps.changes_to_NodeJS_14_and_WebStorm.outputs.any_deleted == 'true' }}
      NodeJS_16_and_WebStorm_changed: ${{ steps.changes_to_NodeJS_16_and_WebStorm.outputs.any_changed == 'true' || steps.changes_to_NodeJS_16_and_WebStorm.outputs.any_deleted == 'true' }}

      OpenJDK_8_changed: ${{ steps.changes_to_OpenJDK_8.outputs.any_changed == 'true' || steps.changes_to_OpenJDK_8.outputs.any_deleted == 'true' }}
      OpenJDK_11_changed: ${{ steps.changes_to_OpenJDK_11.outputs.any_changed == 'true' || steps.changes_to_OpenJDK_11.outputs.any_deleted == 'true' }}

      OpenJDK_8_and_Eclipse_changed: ${{ steps.changes_to_OpenJDK_8_and_Eclipse.outputs.any_changed == 'true' || steps.changes_to_OpenJDK_8_and_Eclipse.outputs.any_deleted == 'true' }}
      OpenJDK_11_and_Eclipse_changed: ${{ steps.changes_to_OpenJDK_11_and_Eclipse.outputs.any_changed == 'true' || steps.changes_to_OpenJDK_11_and_Eclipse.outputs.any_deleted == 'true' }}

      OpenJDK_8_and_VSCode_changed: ${{ steps.changes_to_OpenJDK_8_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_OpenJDK_8_and_VSCode.outputs.any_deleted == 'true' }}
      OpenJDK_11_and_VSCode_changed: ${{ steps.changes_to_OpenJDK_11_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_OpenJDK_11_and_VSCode.outputs.any_deleted == 'true' }}

      PyCharm_changed: ${{ steps.changes_to_PyCharm.outputs.any_changed == 'true' || steps.changes_to_PyCharm.outputs.any_deleted == 'true' }}

      Python_2-7_changed: ${{ steps.changes_to_Python_2-7.outputs.any_changed == 'true' || steps.changes_to_Python_2-7.outputs.any_deleted == 'true' }}
      Python_3-9_changed: ${{ steps.changes_to_Python_3-9.outputs.any_changed == 'true' || steps.changes_to_Python_3-9.outputs.any_deleted == 'true' }}
      Python_3-10_changed: ${{ steps.changes_to_Python_3-10.outputs.any_changed == 'true' || steps.changes_to_Python_3-10.outputs.any_deleted == 'true' }}

      Python_2-7_and_PyCharm_changed: ${{ steps.changes_to_Python_2-7_and_PyCharm.outputs.any_changed == 'true' || steps.changes_to_Python_2-7_and_PyCharm.outputs.any_deleted == 'true' }}
      Python_3-9_and_PyCharm_changed: ${{ steps.changes_to_Python_3-9_and_PyCharm.outputs.any_changed == 'true' || steps.changes_to_Python_3-9_and_PyCharm.outputs.any_deleted == 'true' }}
      Python_3-10_and_PyCharm_changed: ${{ steps.changes_to_Python_3-10_and_PyCharm.outputs.any_changed == 'true' || steps.changes_to_Python_3-10_and_PyCharm.outputs.any_deleted == 'true' }}

      Python_2-7_and_VSCode_changed: ${{ steps.changes_to_Python_2-7_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_Python_2-7_and_VSCode.outputs.any_deleted == 'true' }}
      Python_3-9_and_VSCode_changed: ${{ steps.changes_to_Python_3-9_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_Python_3-9_and_VSCode.outputs.any_deleted == 'true' }}
      Python_3-10_and_VSCode_changed: ${{ steps.changes_to_Python_3-10_and_VSCode.outputs.any_changed == 'true' || steps.changes_to_Python_3-10_and_VSCode.outputs.any_deleted == 'true' }}

      VSCode_changed: ${{ steps.changes_to_VSCode.outputs.any_changed == 'true' || steps.changes_to_VSCode.outputs.any_deleted == 'true' }}

      WebStorm_changed: ${{ steps.changes_to_WebStorm.outputs.any_changed == 'true' || steps.changes_to_WebStorm.outputs.any_deleted == 'true' }}

    steps:

    - uses: actions/checkout@v2
      with:
        fetch-depth: 2 # This is for changed-files.

    - id: changes_to_Eclipse
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          IDEs/Eclipse/configure_Eclipse_to_autostart.sh
          IDEs/Eclipse/create_Eclipse_desktop_shortcut.sh
          IDEs/Eclipse/Dockerfile
          IDEs/Eclipse/Eclipse.desktop
          IDEs/Eclipse/install_Eclipse.sh

    - id: changes_to_all_runtimes_and_all_IDEs_image
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/all-runtimes-and-all-IDEs/all_runtimes_and_all_IDEs_on_Ubuntu_focal.Dockerfile
          IDEs/Eclipse/create_Eclipse_desktop_shortcut.sh
          IDEs/Eclipse/Eclipse.desktop
          IDEs/Eclipse/install_Eclipse.sh
          IDEs/GoLand/create_GoLand_desktop_shortcut.sh
          IDEs/GoLand/GoLand.desktop
          IDEs/GoLand/install_GoLand.sh
          IDEs/PyCharm/create_PyCharm_desktop_shortcut.sh
          IDEs/PyCharm/PyCharm.desktop
          IDEs/PyCharm/install_PyCharm.sh
          IDEs/WebStorm/create_WebStorm_desktop_shortcut.sh
          IDEs/WebStorm/WebStorm.desktop
          IDEs/WebStorm/install_WebStorm.sh
          runtimes/Go/install_Go_1-17_on_Linux.sh
          runtimes/NodeJS/install_NodeJS_16_on_Linux.sh
          runtimes/OpenJDK/install_OpenJDK_11_on_Linux.sh
          runtimes/Python/install_Python_3-10_on_Linux.sh

    - id: changes_to_Go_1-16
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/Go/Go_1-16_on_Ubuntu_focal.Dockerfile
          runtimes/Go/install_Go_1-16_on_Linux.sh

    - id: changes_to_Go_1-17
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/Go/Go_1-17_on_Ubuntu_focal.Dockerfile
          runtimes/Go/install_Go_1-17_on_Linux.sh

    - id: changes_to_Go_1-16_and_GoLand
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Go-and-GoLand/Go_1-16_and_GoLand_on_Ubuntu_focal.Dockerfile
          IDEs/GoLand/configure_GoLand_to_autostart.sh
          IDEs/GoLand/create_GoLand_desktop_shortcut.sh
          IDEs/GoLand/Dockerfile
          IDEs/GoLand/GoLand.desktop
          IDEs/GoLand/install_GoLand.sh
          runtimes/Go/install_Go_1-16_on_Linux.sh

    - id: changes_to_Go_1-17_and_GoLand
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Go-and-GoLand/Go_1-17_and_GoLand_on_Ubuntu_focal.Dockerfile
          IDEs/GoLand/configure_GoLand_to_autostart.sh
          IDEs/GoLand/create_GoLand_desktop_shortcut.sh
          IDEs/GoLand/Dockerfile
          IDEs/GoLand/GoLand.desktop
          IDEs/GoLand/install_GoLand.sh
          runtimes/Go/install_Go_1-17_on_Linux.sh

    - id: changes_to_Go_1-16_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Go-and-VSCode/Go_1-16_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          IDEs/VSCode/Dockerfile
          runtimes/Go/install_Go_1-16_on_Linux.sh

    - id: changes_to_Go_1-17_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Go-and-VSCode/Go_1-17_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          IDEs/VSCode/Dockerfile
          runtimes/Go/install_Go_1-17_on_Linux.sh

    - id: changes_to_GoLand
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          IDEs/GoLand/configure_GoLand_to_autostart.sh
          IDEs/GoLand/create_GoLand_desktop_shortcut.sh
          IDEs/GoLand/Dockerfile
          IDEs/GoLand/GoLand.desktop
          IDEs/GoLand/install_GoLand.sh
          runtimes/Go/Go_1-17_on_Ubuntu_focal.Dockerfile

    - id: changes_to_NodeJS_12
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/NodeJS/install_NodeJS_12_on_Ubuntu_focal.sh
          runtimes/NodeJS/NodeJS_12_on_Ubuntu_focal.Dockerfile

    - id: changes_to_NodeJS_14
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/NodeJS/install_NodeJS_14_on_Ubuntu_focal.sh
          runtimes/NodeJS/NodeJS_14_on_Ubuntu_focal.Dockerfile

    - id: changes_to_NodeJS_16
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/NodeJS/install_NodeJS_16_on_Ubuntu_focal.sh
          runtimes/NodeJS/NodeJS_16_on_Ubuntu_focal.Dockerfile

    - id: changes_to_NodeJS_12_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/NodeJS-and-VSCode/NodeJS_12_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          runtimes/NodeJS/install_NodeJS_12_on_Ubuntu_focal.sh

    - id: changes_to_NodeJS_14_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/NodeJS-and-VSCode/NodeJS_14_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          runtimes/NodeJS/install_NodeJS_14_on_Ubuntu_focal.sh

    - id: changes_to_NodeJS_16_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/NodeJS-and-VSCode/NodeJS_16_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          runtimes/NodeJS/install_NodeJS_16_on_Ubuntu_focal.sh

    - id: changes_to_NodeJS_12_and_WebStorm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/NodeJS-and-WebStorm/NodeJS_12_and_WebStorm_on_Ubuntu_focal.Dockerfile
          IDEs/WebStorm/configure_WebStorm_to_autostart.sh
          runtimes/NodeJS/install_NodeJS_12_on_Ubuntu_focal.sh

    - id: changes_to_NodeJS_14_and_WebStorm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/NodeJS-and-WebStorm/NodeJS_14_and_WebStorm_on_Ubuntu_focal.Dockerfile
          IDEs/WebStorm/configure_WebStorm_to_autostart.sh
          runtimes/NodeJS/install_NodeJS_14_on_Ubuntu_focal.sh

    - id: changes_to_NodeJS_16_and_WebStorm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/NodeJS-and-WebStorm/NodeJS_16_and_WebStorm_on_Ubuntu_focal.Dockerfile
          IDEs/WebStorm/configure_WebStorm_to_autostart.sh
          runtimes/NodeJS/install_NodeJS_16_on_Ubuntu_focal.sh

    - id: changes_to_OpenJDK_8
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/OpenJDK/install_OpenJDK_8_on_Ubuntu_focal.sh
          runtimes/OpenJDK/OpenJDK_8_on_Ubuntu_focal.Dockerfile

    - id: changes_to_OpenJDK_11
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/OpenJDK/install_OpenJDK_11_on_Ubuntu_focal.sh
          runtimes/OpenJDK/OpenJDK_11_on_Ubuntu_focal.Dockerfile

    - id: changes_to_OpenJDK_8_and_Eclipse
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/OpenJDK-and-Eclipse/OpenJDK_8_and_Eclipse_on_Ubuntu_focal.Dockerfile
          IDEs/Eclipse/configure_Eclipse_to_autostart.sh
          IDEs/Eclipse/create_Eclipse_desktop_shortcut.sh
          IDEs/Eclipse/Eclipse.desktop
          IDEs/Eclipse/install_Eclipse.sh
          runtimes/OpenJDK/install_OpenJDK_8_on_Ubuntu_focal.sh

    - id: changes_to_OpenJDK_11_and_Eclipse
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/OpenJDK-and-Eclipse/OpenJDK_11_and_Eclipse_on_Ubuntu_focal.Dockerfile
          IDEs/Eclipse/configure_Eclipse_to_autostart.sh
          IDEs/Eclipse/create_Eclipse_desktop_shortcut.sh
          IDEs/Eclipse/Eclipse.desktop
          IDEs/Eclipse/install_Eclipse.sh
          runtimes/OpenJDK/install_OpenJDK_11_on_Ubuntu_focal.sh

    - id: changes_to_OpenJDK_8_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/OpenJDK-and-VSCode/OpenJDK_8_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          IDEs/VSCode/create_VSCode_desktop_shortcut.sh
          IDEs/VSCode/install_VSCode.sh
          runtimes/OpenJDK/install_OpenJDK_8_on_Ubuntu_focal.sh

    - id: changes_to_OpenJDK_11_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/OpenJDK-and-VSCode/OpenJDK_11_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          IDEs/VSCode/create_VSCode_desktop_shortcut.sh
          IDEs/VSCode/install_VSCode.sh
          runtimes/OpenJDK/install_OpenJDK_11_on_Ubuntu_focal.sh

    - id: changes_to_PyCharm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          IDEs/PyCharm/configure_PyCharm_to_autostart.sh
          IDEs/PyCharm/create_PyCharm_desktop_shortcut.sh
          IDEs/PyCharm/Dockerfile
          IDEs/PyCharm/install_PyCharm.sh
          IDEs/PyCharm/jetbrains-pycharm-ce.desktop

    - id: changes_to_Python_2-7
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/Python/install_Python_2-7_on_Ubuntu_focal.sh
          runtimes/Python/Python_2-7_on_Ubuntu_focal.Dockerfile

    - id: changes_to_Python_3-9
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/Python/install_Python_3-9_on_Ubuntu_focal.sh
          runtimes/Python/Python_3-9_on_Ubuntu_focal.Dockerfile

    - id: changes_to_Python_3-10
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          runtimes/Python/install_Python_3-10_on_Ubuntu_focal.sh
          runtimes/Python/Python_3-10_on_Ubuntu_focal.Dockerfile

    - id: changes_to_Python_2-7_and_PyCharm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Python-and-PyCharm/Python_2-7_and_PyCharm_on_Ubuntu_focal.Dockerfile
          IDEs/PyCharm/configure_PyCharm_to_autostart.sh
          IDEs/PyCharm/create_PyCharm_desktop_shortcut.sh
          IDEs/PyCharm/install_PyCharm.sh
          IDEs/PyCharm/jetbrains-pycharm-ce.desktop
          runtimes/Python/install_Python_2-7_on_Ubuntu_focal.sh

    - id: changes_to_Python_3-9_and_PyCharm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Python-and-PyCharm/Python_3-9_and_PyCharm_on_Ubuntu_focal.Dockerfile
          IDEs/PyCharm/configure_PyCharm_to_autostart.sh
          IDEs/PyCharm/create_PyCharm_desktop_shortcut.sh
          IDEs/PyCharm/install_PyCharm.sh
          IDEs/PyCharm/jetbrains-pycharm-ce.desktop
          runtimes/Python/install_Python_3-9_on_Ubuntu_focal.sh

    - id: changes_to_Python_3-10_and_PyCharm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Python-and-PyCharm/Python_3-10_and_PyCharm_on_Ubuntu_focal.Dockerfile
          IDEs/PyCharm/configure_PyCharm_to_autostart.sh
          IDEs/PyCharm/create_PyCharm_desktop_shortcut.sh
          IDEs/PyCharm/install_PyCharm.sh
          IDEs/PyCharm/jetbrains-pycharm-ce.desktop
          runtimes/Python/install_Python_3-10_on_Ubuntu_focal.sh

    - id: changes_to_Python_2-7_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Python-and-VSCode/Python_2-7_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          runtimes/Python/install_Python_2-7_on_Ubuntu_focal.sh

    - id: changes_to_Python_3-9_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Python-and-VSCode/Python_3-9_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          runtimes/Python/install_Python_3-9_on_Ubuntu_focal.sh

    - id: changes_to_Python_3-10_and_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          complete-setups/Python-and-VSCode/Python_3-10_and_VSCode_on_Ubuntu_focal.Dockerfile
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          runtimes/Python/install_Python_3-10_on_Ubuntu_focal.sh

    - id: changes_to_VSCode
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          IDEs/VSCode/configure_VSCode_to_autostart.sh
          IDEs/VSCode/Dockerfile

    - id: changes_to_WebStorm
      uses: tj-actions/changed-files@v1.1.2
      with:
        files: |
          IDEs/WebStorm/configure_WebStorm_to_autostart.sh
          IDEs/WebStorm/create_WebStorm_desktop_shortcut.sh
          IDEs/WebStorm/Dockerfile
          IDEs/WebStorm/install.sh
          IDEs/WebStorm/WebStorm.desktop

  build_and_publish_Eclipse:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Eclipse_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: IDEs/Eclipse/Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-eclipse:20.04
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-eclipse:focal
        environment: ${{ inputs.environment }}

  build_and_publish_all_runtimes_and_all_IDEs_image:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.all_runtimes_and_all_IDEs_image_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/all-runtimes-and-all-IDEs/all_runtimes_and_all_IDEs_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-runtimes-ides:20.04
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-runtimes-ides:focal
        environment: ${{ inputs.environment }}

  build_and_publish_Go_1-16:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Go_1-16_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/Go/Go_1-16_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go:20.04-1.16
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go:focal-1.16
        environment: ${{ inputs.environment }}

  build_and_publish_Go_1-17:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Go_1-17_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/Go/Go_1-17_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go:20.04-1.17
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go:focal-1.17
        environment: ${{ inputs.environment }}

  build_and_publish_Go_1-16_and_GoLand:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Go_1-16_and_GoLand_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Go-and-GoLand/Go_1-16_and_GoLand_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-goland:20.04-1.16
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-goland:focal-1.16
        environment: ${{ inputs.environment }}

  build_and_publish_Go_1-17_and_GoLand:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Go_1-17_and_GoLand_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Go-and-GoLand/Go_1-17_and_GoLand_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-goland:20.04-1.17
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-goland:focal-1.17
        environment: ${{ inputs.environment }}

  build_and_publish_Go_1-16_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Go_1-16_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Go-and-VSCode/Go_1-16_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-vscode:20.04-1.16
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-vscode:focal-1.16
        environment: ${{ inputs.environment }}

  build_and_publish_Go_1-17_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Go_1-17_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Go-and-VSCode/Go_1-17_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-vscode:20.04-1.17
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-go-vscode:focal-1.17
        environment: ${{ inputs.environment }}

  build_and_publish_GoLand:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.GoLand_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: IDEs/GoLand/GoLand_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-goland:20.04
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-goland:focal
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_12:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_12_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/NodeJS/NodeJS_12_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs:20.04-12
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs:focal-12
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_14:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_14_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/NodeJS/NodeJS_14_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs:20.04-14
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs:focal-14
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_16:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_16_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/NodeJS/NodeJS_16_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs:20.04-16
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs:focal-16
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_12_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_12_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/NodeJS-and-VSCode/NodeJS_12_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-vscode:20.04-12
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-vscode:focal-12
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_14_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_14_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/NodeJS-and-VSCode/NodeJS_14_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-vscode:20.04-14
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-vscode:focal-14
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_16_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_16_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/NodeJS-and-VSCode/NodeJS_16_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-vscode:20.04-16
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-vscode:focal-16
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_12_and_WebStorm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_12_and_WebStorm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/NodeJS-and-WebStorm/NodeJS_12_and_WebStorm_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-webstorm:20.04-12
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-webstorm:focal-12
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_14_and_WebStorm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_14_and_WebStorm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/NodeJS-and-WebStorm/NodeJS_14_and_WebStorm_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-webstorm:20.04-14
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-webstorm:focal-14
        environment: ${{ inputs.environment }}

  build_and_publish_NodeJS_16_and_WebStorm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.NodeJS_16_and_WebStorm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/NodeJS-and-WebStorm/NodeJS_16_and_WebStorm_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-webstorm:20.04-16
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-nodejs-webstorm:focal-16
        environment: ${{ inputs.environment }}

  build_and_publish_OpenJDK_8:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.OpenJDK_8_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/OpenJDK/OpenJDK_8_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk:20.04-8
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk:focal-8
        environment: ${{ inputs.environment }}

  build_and_publish_OpenJDK_11:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.OpenJDK_11_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/OpenJDK/OpenJDK_11_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk:20.04-11
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk:focal-11
        environment: ${{ inputs.environment }}

  build_and_publish_OpenJDK_8_and_Eclipse:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.OpenJDK_8_and_Eclipse_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/OpenJDK-and-Eclipse/OpenJDK_8_and_Eclipse_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-eclipse:20.04-8
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-eclipse:focal-8
        environment: ${{ inputs.environment }}

  build_and_publish_OpenJDK_11_and_Eclipse:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.OpenJDK_11_and_Eclipse_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/OpenJDK-and-Eclipse/OpenJDK_11_and_Eclipse_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-eclipse:20.04-11
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-eclipse:focal-11
        environment: ${{ inputs.environment }}

  build_and_publish_OpenJDK_8_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.OpenJDK_8_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/OpenJDK-and-VSCode/OpenJDK_8_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-vscode:20.04-8
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-vscode:focal-8
        environment: ${{ inputs.environment }}

  build_and_publish_OpenJDK_11_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.OpenJDK_11_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/OpenJDK-and-VSCode/OpenJDK_11_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-vscode:20.04-11
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-openjdk-vscode:focal-11
        environment: ${{ inputs.environment }}

  build_and_publish_PyCharm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.PyCharm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: IDEs/PyCharm/Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-pycharm:20.04
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-pycharm:focal
        environment: ${{ inputs.environment }}

  build_and_publish_Python_2-7:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_2-7_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/Python/Python_2-7_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python:20.04-2.7
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python:focal-2.7
        environment: ${{ inputs.environment }}

  build_and_publish_Python_3-9:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_3-9_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/Python/Python_3-9_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python:20.04-3.9
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python:focal-3.9
        environment: ${{ inputs.environment }}

  build_and_publish_Python_3-10:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_3-10_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: runtimes/Python/Python_3-10_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python:20.04-3.10
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python:focal-3.10
        environment: ${{ inputs.environment }}

  build_and_publish_Python_2-7_and_PyCharm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_2-7_and_PyCharm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Python-and-PyCharm/Python_2-7_and_PyCharm_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:20.04-2.7
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:focal-2.7
        environment: ${{ inputs.environment }}

  build_and_publish_Python_3-9_and_PyCharm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_3-9_and_PyCharm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Python-and-PyCharm/Python_3-9_and_PyCharm_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:20.04-3.9
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:focal-3.9
        environment: ${{ inputs.environment }}

  build_and_publish_Python_3-10_and_PyCharm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_3-10_and_PyCharm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Python-and-PyCharm/Python_3-10_and_PyCharm_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:20.04-3.10
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:focal-3.10
        environment: ${{ inputs.environment }}

  build_and_publish_Python_2-7_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_2-7_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Python-and-VSCode/Python_2-7_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-vscode:20.04-2.7
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-vscode:focal-2.7
        environment: ${{ inputs.environment }}

  build_and_publish_Python_3-9_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_3-9_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Python-and-VSCode/Python_3-9_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-vscode:20.04-3.9
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-vscode:focal-3.9
        environment: ${{ inputs.environment }}

  build_and_publish_Python_3-10_and_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.Python_3-10_and_VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: complete-setups/Python-and-VSCode/Python_3-10_and_VSCode_on_Ubuntu_focal.Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:20.04-3.10
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-python-pycharm:focal-3.10
        environment: ${{ inputs.environment }}

  build_and_publish_VSCode:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.VSCode_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: IDEs/VSCode/Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-vscode:20.04
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-vscode:focal
        environment: ${{ inputs.environment }}

  build_and_publish_WebStorm:
    needs: detect_image_source_changes
    if: ${{ needs.detect_image_source_changes.outputs.WebStorm_changed == 'true' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: ./.github/actions/build-and-publish-image
      with:
        dockerfile_path: IDEs/WebStorm/Dockerfile
        github_personal_access_token: ${{ secrets.GITHUB_TOKEN }}
        github_username: ${{ github.actor }}
        image_tag_1: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-webstorm:20.04
        image_tag_2: ghcr.io/itopia-inc/spaces-images/spaces-ubuntu-webstorm:focal
        environment: ${{ inputs.environment }}
